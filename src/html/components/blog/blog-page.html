<section class="blog-page">
  <div class="container blog-page__container">
    <h2 class="blog-page__title heading-h1">
      How we perform long-running tasks using AWS services
    </h2>
    <div class="blog-page__message-header">
      <div class="blog-page__message-person-data">
        <img class="blog-page__message-avatar" loading="lazy" width="56" height="56" src="./assets/images/blog-ava.jpg" alt="a smiling indian man in a costume" >
        <div class="blog-page__message-name-position-container">
          <span class="blog-page__message-name">Renee Wells</span>
          <span class="blog-page__message-position">Product Designer, Quotient</span>
        </div>
      </div>
      <span class="blog-page__message-date">
        10 min read  November 10, 2023
      </span>
    </div>
    <img class="blog-page__img" src="./assets/images/table.jpg" loading="lazy" width="940" height="545" alt="a laptop on the table and two chairs in an office">
    <p class="blog-page__text">
      Depending on the input, this can result in using a lot of processing power and time. The whole process would take approximately 5 seconds to return a result to the client. Keep in mind we’re talking about 1 item, a contact from a contact book. After a while, a new requirement is added. Solution must support companies that manage their contacts organized in files. We agreed to develop a web application that would support upload of dataset files, like .csv. The new web application should support third party integrations. Some of them are the ESP/CRM services, like Mailchimp. User does not need to see the result immediately. System can later notify the user about the result, when the process finishes. This information is the key that we need to leverage on when developing our solution. So here’s how we did it.
    </p>
    <h4 class="blog-page__subtitle">
      Initial approach
    </h4>
    <p class="blog-page__subtext">
      Our initial approach went like this: The web application would read a .csv file line-by-line and submit an array of entries to the backend REST API. Processing is in real time, immediately after the user makes a request for the process to start, he expects a result. Another approach is to apply vertical scaling to AWS architecture. Meaning we used larger, more expensive instances that have more RAM and processing power. This system worked well for smaller datasets, maybe up to 5k entries, but for larger datasets multiple problems arose. This solution is prone to failure due to long request time. Also, because of some 3rd party services that aren’t optimized for large scale loads or they don’t have batch endpoints. 3rd party services also tend to protect their architecture from making a huge bill on their end. The whole process was done in real-time. The request can take a lot of time hanging in there while the backend would do all the work and return the result to the client. The request was limited to 300 seconds (at time of writing the article) before AWS would cancel it… Also I need to mention that the user has to wait a few minutes to see the results. They can’t use the app during the process, which makes for a bad user experience.
    </p>
    <div class="blog-page__post-container">
      <img loading="lazy" class="blog-page__post-img" src="./assets/images/post-ava.jpg" width="200" height="200" alt="a smilimng white woman with glasses">
      <div class="blog-page__post-content">
        <ul class="blog-page__post-content-socials-list">
          <li class="blog-page__post-content-socials-list-item">
            <svg width="15" height="26" viewBox="0 0 15 26" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.2281 14.625L13.9375 10H9.5V7C9.5 5.73438 10.1188 4.5 12.1063 4.5H14.125V0.5625C14.125 0.5625 12.2938 0.25 10.5438 0.25C6.8875 0.25 4.5 2.46563 4.5 6.475V10H0.4375V14.625H4.5V25.8062C5.31563 25.9344 6.15 26 7 26C7.85 26 8.68437 25.9344 9.5 25.8062V14.625H13.2281Z" fill="#1D1E25" />
            </svg>
          </li>
          <li class="blog-page__post-content-socials-list-item">
            <svg width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M7.5208 4.00498L7.55438 4.55861L6.99479 4.49082C4.95791 4.23095 3.17843 3.34965 1.66756 1.86952L0.928908 1.13511L0.73865 1.67744C0.33575 2.88641 0.593158 4.16316 1.43253 5.02186C1.8802 5.4964 1.77948 5.5642 1.00725 5.28173C0.73865 5.19134 0.503625 5.12355 0.481242 5.15744C0.4029 5.23653 0.6715 6.26472 0.884142 6.67147C1.17513 7.2364 1.76828 7.79004 2.4174 8.1177L2.96579 8.37757L2.31668 8.38887C1.68994 8.38887 1.66756 8.40017 1.73471 8.63744C1.95854 9.37186 2.84268 10.1515 3.82755 10.4904L4.52143 10.7277L3.91708 11.0893C3.02175 11.609 1.96973 11.9028 0.917717 11.9254C0.414092 11.9367 0 11.9819 0 12.0158C0 12.1287 1.36538 12.7615 2.15999 13.01C4.54382 13.7445 7.37531 13.4281 9.50173 12.1739C11.0126 11.2813 12.5235 9.50744 13.2286 7.79004C13.6091 6.87485 13.9896 5.20264 13.9896 4.40043C13.9896 3.88069 14.0232 3.8129 14.6499 3.19147C15.0192 2.82991 15.3662 2.43446 15.4333 2.32147C15.5452 2.1068 15.534 2.1068 14.9633 2.29887C14.012 2.63783 13.8777 2.59264 14.3477 2.0842C14.6947 1.72264 15.1088 1.06732 15.1088 0.875237C15.1088 0.841341 14.9409 0.897835 14.7506 0.999523C14.5492 1.11251 14.1015 1.28199 13.7658 1.38368L13.1614 1.57576L12.613 1.2029C12.3108 0.999523 11.8856 0.773549 11.6617 0.705757C11.0909 0.547575 10.218 0.570172 9.70318 0.750952C8.30422 1.25939 7.42008 2.57004 7.5208 4.00498Z" fill="#1D1E25" />
            </svg>
          </li>
          <li class="blog-page__post-content-socials-list-item">
            <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4.54597 1.8818C4.52244 0.813602 3.75857 0 2.51815 0C1.27774 0 0.466797 0.813602 0.466797 1.8818C0.466797 2.92787 1.25377 3.7649 2.47108 3.7649H2.49426C3.75857 3.7649 4.54597 2.92787 4.54597 1.8818Z" fill="#1D1E25" />
              <path d="M4.30716 5.25195H0.681213V16.1464H4.30716V5.25195Z" fill="#1D1E25" />
              <path d="M13.2089 4.99609C15.5949 4.99609 17.3837 6.55352 17.3837 9.89983L17.3836 16.1464H13.7578V10.3178C13.7578 8.85384 13.2331 7.85484 11.9205 7.85484C10.9187 7.85484 10.3221 8.52831 10.06 9.17878C9.96413 9.4119 9.94059 9.73671 9.94059 10.0623V16.1467H6.31421C6.31421 16.1467 6.362 6.27449 6.31421 5.25221H9.94059V6.79532C10.4218 6.05352 11.2838 4.99609 13.2089 4.99609Z" fill="#1D1E25" />
            </svg>
          </li>
          <li class="blog-page__post-content-socials-list-item">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.00069 0.466675C6.68315 0.466675 6.3923 0.476808 5.48207 0.518231C4.57362 0.559831 3.95352 0.703655 3.41094 0.914679C2.84969 1.13264 2.37359 1.4242 1.89928 1.89869C1.42461 2.37301 1.13305 2.8491 0.91438 3.41017C0.702822 3.95293 0.55882 4.57321 0.517931 5.4813C0.47722 6.39154 0.466553 6.68256 0.466553 9.0001C0.466553 11.3176 0.476864 11.6076 0.518109 12.5178C0.559887 13.4263 0.703711 14.0464 0.914557 14.589C1.13269 15.1502 1.42425 15.6263 1.89875 16.1006C2.37288 16.5753 2.84898 16.8676 3.40987 17.0855C3.95281 17.2965 4.57308 17.4404 5.48136 17.482C6.39159 17.5234 6.68226 17.5335 8.99962 17.5335C11.3173 17.5335 11.6073 17.5234 12.5175 17.482C13.426 17.4404 14.0468 17.2965 14.5897 17.0855C15.1508 16.8676 15.6262 16.5753 16.1003 16.1006C16.575 15.6263 16.8665 15.1502 17.0852 14.5891C17.295 14.0464 17.439 13.4261 17.4817 12.518C17.5226 11.6078 17.5332 11.3176 17.5332 9.0001C17.5332 6.68256 17.5226 6.39171 17.4817 5.48148C17.439 4.57303 17.295 3.95293 17.0852 3.41035C16.8665 2.8491 16.575 2.37301 16.1003 1.89869C15.6256 1.42402 15.151 1.13246 14.5892 0.914679C14.0452 0.703655 13.4247 0.559831 12.5163 0.518231C11.606 0.476808 11.3163 0.466675 8.99802 0.466675H9.00069ZM8.23513 2.00444C8.46233 2.00409 8.71585 2.00444 9.00065 2.00444C11.2791 2.00444 11.5491 2.01262 12.4489 2.05351C13.2809 2.09156 13.7324 2.23058 14.0332 2.34738C14.4315 2.50205 14.7154 2.68694 15.0139 2.98561C15.3125 3.28428 15.4974 3.56873 15.6525 3.96695C15.7693 4.2674 15.9085 4.71896 15.9463 5.55097C15.9872 6.45054 15.9961 6.72076 15.9961 8.99812C15.9961 11.2755 15.9872 11.5457 15.9463 12.4453C15.9083 13.2773 15.7693 13.7288 15.6525 14.0293C15.4978 14.4275 15.3125 14.7111 15.0139 15.0096C14.7152 15.3082 14.4316 15.4931 14.0332 15.6478C13.7328 15.7651 13.2809 15.9038 12.4489 15.9418C11.5493 15.9827 11.2791 15.9916 9.00065 15.9916C6.72205 15.9916 6.452 15.9827 5.55244 15.9418C4.72043 15.9034 4.26887 15.7644 3.96789 15.6476C3.56966 15.4929 3.28521 15.3081 2.98654 15.0094C2.68787 14.7107 2.50298 14.427 2.34796 14.0286C2.23116 13.7281 2.09196 13.2766 2.05409 12.4446C2.0132 11.545 2.00502 11.2748 2.00502 8.99598C2.00502 6.7172 2.0132 6.4484 2.05409 5.54884C2.09213 4.71683 2.23116 4.26527 2.34796 3.96447C2.50263 3.56624 2.68787 3.28179 2.98654 2.98312C3.28521 2.68445 3.56966 2.49956 3.96789 2.34454C4.26869 2.2272 4.72043 2.08853 5.55244 2.05031C6.33964 2.01476 6.64471 2.00409 8.23513 2.00231V2.00444ZM13.5557 3.42135C12.9904 3.42135 12.5317 3.87949 12.5317 4.44501C12.5317 5.01035 12.9904 5.46902 13.5557 5.46902C14.1211 5.46902 14.5797 5.01035 14.5797 4.44501C14.5797 3.87967 14.1211 3.42135 13.5557 3.42135ZM9.0007 4.61781C6.58059 4.61781 4.61843 6.57996 4.61843 9.00007C4.61843 11.4202 6.58059 13.3815 9.0007 13.3815C11.4208 13.3815 13.3823 11.4202 13.3823 9.00007C13.3823 6.57996 11.4208 4.61781 9.0007 4.61781ZM9.00067 6.1556C10.5715 6.1556 11.8451 7.42903 11.8451 9.00007C11.8451 10.5709 10.5715 11.8445 9.00067 11.8445C7.42963 11.8445 6.15619 10.5709 6.15619 9.00007C6.15619 7.42903 7.42963 6.1556 9.00067 6.1556Z" fill="#1D1E25" />
            </svg>
          </li>
        </ul>
        <span class="blog-page__post-content-advice">
          Share this article
        </span>
        <div class="blog-page__post-content-author-pointer">
          Written by
        </div>
        <div class="blog-page__post-content-name">
          Renee Wells
        </div>
        <div class="blog-page__post-content-position">
          Product Designer, Quotient
        </div>
        <p class="blog-page__post-content-technologies">
          Skilled in React Native, iOS and backend, Toni has a demonstrated knowledge of the information technology and services industry, with plenty of hands-on experience to back it up.
        </p>
      </div>
    </div>
  </div>
</section>
